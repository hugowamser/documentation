{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to MkDocs","text":"<p>For full documentation visit mkdocs.org.</p>"},{"location":"#commands","title":"Commands","text":"<ul> <li><code>mkdocs new [dir-name]</code> - Create a new project.</li> <li><code>mkdocs serve</code> - Start the live-reloading docs server.</li> <li><code>mkdocs build</code> - Build the documentation site.</li> <li><code>mkdocs -h</code> - Print help message and exit.</li> </ul>"},{"location":"#project-layout","title":"Project layout","text":"<pre><code>mkdocs.yml    # The configuration file.\ndocs/\n    index.md  # The documentation homepage.\n    ...       # Other markdown pages, images and other files.\n</code></pre>"},{"location":"formation/","title":"Formation","text":"<p>Formation centreon</p>"},{"location":"formation/#jour-1-alexandre-chaussier","title":"Jour 1 Alexandre Chaussier","text":"<p>a.chaussier@infopen.pro</p> <p>A travaill\u00e9 avec Najios, prometheus graphana, aime la contenerisation, en frilence 2 entreprise, int\u00e9gration continue, gitlab plutot que jenkings, objectif automatisation. Dev web aussi.</p> <p>version : 22.4.14</p> <p>Premi\u00e8re partie th\u00e9orique  D\u00e9ployement en multi noeuds Diff\u00e9rents \u00e9l\u00e9ments des configurations Logique de migration</p>"},{"location":"formation/#login","title":"login","text":"<p>hwamser FormationMonit-S39</p>"},{"location":"formation/#supervision","title":"Supervision","text":"<ul> <li>But : \u00eatre alert\u00e9 en cas de probleme</li> <li>Cercle vertueux : r\u00e9gir vite et \u00eatre proactif</li> <li>Peut servir d'inventaire</li> </ul>"},{"location":"formation/#metrologie","title":"M\u00e9trologie","text":"<ul> <li>Vision sur une p\u00e9riode de temps</li> </ul>"},{"location":"formation/#probleme-possible","title":"probleme possible","text":"<ul> <li>Certificats SSL expire</li> <li>Coupure de service</li> <li>Kubernetes Attention superviser les ssl</li> <li>Contenue de la page web</li> <li>File system remplit</li> </ul>"},{"location":"formation/#quoi","title":"quoi","text":"<ul> <li>NTP : network time protocol</li> <li>Metrique cloud</li> <li>usages</li> </ul>"},{"location":"formation/#supervision-active","title":"supervision active","text":"<p>C'est la plateform qui effectu les tests</p>"},{"location":"formation/#supervision-passive","title":"supervision passive","text":"<p>C'est l'\u00e9l\u00e9ment supervis\u00e9 qui remonte l'information</p>"},{"location":"formation/#etat-des-sondes","title":"\u00e9tat des sondes:","text":"<ul> <li> <p>Hard \u00e9tat sur : Ok ou PASok</p> </li> <li> <p>soft \u00e9tat d'incertitude : on \u00e9tait en Ok d'un coup pas ok : \u00e9tat soft</p> </li> <li> <p>normal check interval et $$$$$ check interval</p> </li> <li> <p>Event endler : r\u00e9solution auto d'incident pendant un \u00e9tat soft (exemple : red\u00e9marage d'un service / suppr\u00e9ssion de cache)</p> </li> </ul>"},{"location":"formation/#snmp","title":"SNMP","text":"<p>3 version </p> <p>simple network monitoring protocol</p> <ul> <li>parametrage d'\u00e9quipement </li> <li>Ou du get pour la supervision</li> </ul> <p>Agent d\u00e9ploy\u00e9 sur les agents</p> <p>M\u00e9canisme de trap snmp pour les sondes passives</p>"},{"location":"formation/#oib-mib","title":"OIB MIB","text":"<ul> <li>iana : r\u00e9server le num\u00e9ro gratuitement</li> </ul> <p>OIB equivalent IP</p> <p>MIB \u00e9quivalent du DNS</p>"},{"location":"formation/#commande-net-snmp","title":"Commande net-snmp","text":""},{"location":"formation/#supervion-dun-serveur","title":"supervion d'un serveur","text":"<p>Cot\u00e9 serveur (host) = agent snmp \u00e0 installer et configur\u00e9 pour qu'il r\u00e9ponde \u00e0 la bonne personne et ce qu'il doit r\u00e9pondre</p> <p>Lier le serveur au template</p>"},{"location":"formation/#encetre-ordonnance","title":"enc\u00eatre (ordonnanc\u00e9)","text":"<p>Nagio zabbix shinken, icinga</p>"},{"location":"formation/#fonctionnement-different-non-ordonnance-par-agent","title":"fonctionnement diff\u00e9rent, (non ordonnanc\u00e9 : par agent)","text":"<p>collectd, rieman, beatELK (suite elastick), TICK (chronograph)</p> <p>plusieurs agent r\u00e9colte plusieurs \u00e9l\u00e9ment</p>"},{"location":"formation/#prometheus","title":"prometheus","text":"<p>Expose par des exporters pushgateway qui r\u00e9cupere les metriques</p>"},{"location":"formation/#installation","title":"Installation","text":"<p>suivre dans le temps l'espace discque disponible</p> <ul> <li>Interface web</li> <li>MariaDB</li> <li>Fichier RRD (partie graph) (ajoute les nouveaux point et vire les anciens, avantage affiche vite les graph)</li> <li>Centreon engine (ordonnanceur entre les collecteurs et la base)</li> <li>Centreon Broker SQL persistance des donn\u00e9es, il s'assure</li> <li>Centreon pluging ces qui est execut\u00e9 par l'engine</li> </ul>"},{"location":"formation/#sql","title":"sql","text":"<ul> <li>Base centreon (donn\u00e9e de configuration)</li> <li>Centreon_storage (data + log)</li> </ul>"},{"location":"formation/#methodologie-de-test-centreon","title":"M\u00e9thodologie de test centreon","text":"<ul> <li>PL: perl aevc des module pm</li> <li>SSH : pour effectuer des test dessus</li> </ul>"},{"location":"formation/#pour-ameliorer-la-connectivite-et-diminuer-le-temps-dexecution-creation-de-connecteur-optimisation","title":"Pour am\u00e9liorer la connectivit\u00e9 et diminuer le temps d'execution : cr\u00e9ation de connecteur (Optimisation)","text":"<p>Pour la partie perl, ils ont fait en sorte qu'elle ne fasse qu'une fois l'analyse (c'est pour fois qu'il faut reload en cas de nouvelle config)</p> <p>Pour la partie ssh ils maintienne la connecxion ouverte (le collecteur se connecte en ssh et y reste)</p> <ul> <li> <p>Donn\u00e9es de performance</p> </li> <li> <p>Down time quand manipulation sur les sondes</p> </li> <li> <p>ATTENTION : on ne touche pas la configuration centr\u00e9on. </p> </li> </ul>"},{"location":"formation/#commande-et-lien-utiles","title":"commande et lien utiles","text":"<ul> <li>V\u00e9rification de son \u00e9tat:</li> </ul> <p>sudo systemctl status  centengine</p> <ul> <li>Binaire:</li> </ul> <p>/usr/sbin/centengine</p> <ul> <li>Configuration:</li> </ul> <p>/etc/centreon-engine/centengine.cfg</p> <ul> <li> <p>Emplacement des logs:</p> <p>/var/log/centreon-engine/centengine.log</p> </li> </ul>"},{"location":"formation/#le-broket-peut-permettre-de-securiser-les-communication-central-pollers","title":"le broket peut permettre de securiser les communication central pollers","text":"<ul> <li>V\u00e9rification de son \u00e9tat:</li> </ul> <p>sudo systemctl status cbd - Binaire:</p> <p>/usr/sbin/cbd</p> <ul> <li>Configuration, chaque instance de broker aura un fichier de configuration JSON:</li> </ul> <p>/etc/centreon-broker/</p> <ul> <li>Emplacement des logs:</li> </ul> <p>/var/log/centreon-broker/</p>"},{"location":"formation/#gorgone","title":"gorgone","text":"<p>Attention en cas de mont\u00e9e de version par exemple. </p> <p>Il faut g\u00e9rer une sqlLite pour changer l'empreinte de gorgorne.</p>"},{"location":"formation/#paquets-system-pour-linstallation-central-poller-remote","title":"Paquets system pour l'installation Central / Poller / Remote","text":""},{"location":"formation/#jour-2","title":"Jour 2","text":""},{"location":"formation/#macro","title":"macro","text":"<ul> <li>standard</li> <li>ressources</li> <li>personnalis\u00e9 : (_SERVICE ou _HOST) (seule configurable)</li> <li>d'environnement (on peu sp\u00e9cifi\u00e9 encore plus)</li> </ul>"},{"location":"formation/#meta-service","title":"meta service","text":""},{"location":"formation/#jour-3","title":"Jour 3","text":"<ul> <li>22.4 \u00e0 23.10</li> <li>1,7t m\u00e9thode pour concerver les donn\u00e9es (backupsql classique et on pinte ver la base restaur\u00e9e) ou (couper la supervision pendant la migration) ( regenerer les RRD \u00e0 partir des adp ) ( il va falloir installe la nouvelle data base faire un mysql_dump ) (back_up centreon possible) ( 1ere question : qui gere quoi ? bdd)</li> <li> <p>Centos \u00e0 oracle linux</p> </li> <li> <p>Requetes sql sur l'api difficiles</p> </li> </ul>"},{"location":"formation/#commande-centreon-tout","title":"Commande centr\u00e9on tout.","text":"<p>CREATE USER 'dbadmin'@'&lt;51.15.239.86&gt;' IDENTIFIED BY ''; GRANT ALL PRIVILEGES ON . TO 'dbadmin'@'&lt;51.15.239.86&gt;' WITH GRANT OPTION; FLUSH PRIVILEGES; <ul> <li>mdp web : Admin / Formation!S39</li> </ul>"},{"location":"formation/#pollers","title":"pollers","text":"<p>/usr/share/centreon/bin/registerServerTopology.sh -u admin \\ -t poller -h 51.15.239.86 -n poller_1</p> <p>/\\ adress interne du central en -h</p> <p>/usr/share/centreon/bin/registerServerTopology.sh -u admin \\ -t poller -h 51.15.239.86 -n poller_2</p> <p>tail -f -n 500 | grep /var/log/centreon-gorgoned/gorgoned.</p>"},{"location":"formation/#lien-utiles","title":"Lien utiles :","text":"<p>Quelques liens en relation avec cette semaine :</p>"},{"location":"formation/#signature-des-feuilles-de-presences","title":"signature des feuilles de pr\u00e9sences","text":"<ul> <li> <p>solutionner les unkwnow en critical</p> <p><code>sql CREATE USER 'monitor_user'@'10.64.6.19' IDENTIFIED BY 'FormationMonit-S39'; GRANT SELECT ON *.* to 'monitor_user'@'10.64.6.19';</code></p> </li> <li> <p>supervion du poller du central</p> </li> <li>cr\u00e9ation d'une commande + envent handler</li> </ul> <p>log problem :  $ sshd[64376]: Authentication refused: bad ownership or modes for directory / var/lib/centreon</p> <pre><code>vi /etc/ssh/sshd_config\nstrictModes = no\n</code></pre>"}]}